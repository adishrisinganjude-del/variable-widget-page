<!DOCTYPE html>
<html lang="en">

<head>
  <!-- Metadata -->
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Page Title</title>

  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,400;0,600;1,400;1,600&display=swap"
    rel="stylesheet">

  <!-- CSS -->
  <link rel="stylesheet" href="../css/widget-page.css">
</head>

<body>
  <div class="column column-md">
    <section id="introduction">
      <div class="text">
        <h1> Let's learn about variables!</h1>
        <p> A variable is like a labeled box that stores information. </p>
        <button type="button" id="introContinue">
      <span class="button-text">Continue</span>
      <svg class="button-icon" width="16" height="20" fill="none">     
      </svg>
    </button>
      </div>
    </section>

    <section id="inputSection" style="display: none;">
      <div class="text">
        <p>How old are you?</p>
        <label for="age" >Age:</label>
        <input type="text" id="ageInput"/>
        <button class="button" id="submit" >Submit</button>
      </div> 
    </section>
    
    <section id="result" style = "display: none;">
      <div class="text">
        <p style="text-align:center;">age=<span id="ageDisplay"> </span></p>
        <button class="button-semantic button-primary button-continue" id="resultContinue">
      <span class="button-text">Continue</span>
      <svg class="button-icon" width="16" height="20"  fill="none">
        </svg>
    </button>
      </div>
    </section>

    <section id="quiz" style = "display: none;">
      <div class="text">
      <h2>Quick Check!</h2>
      <p>What is the name of the variable?</p>
      <button type="button" id="option1" >age</button>
      <button type="button" id="option2" ><span id="ageNumberQuiz"> </span></button>
    <div id="feedback"> 
    </div>
        <button id="quizContinue" class="button-semantic button-primary button-continue" style = "display:none;">
      <span class="button-text">Continue</span>
      <svg class="button-icon" width="16" height="20"  fill="none">
        </svg>
    </button>
      </div>
    </section> 

    
    <section id="updateVariable" style = "display: none;">
      <div class="text">
      <h2>Let's update variables!</h2>
      <p>age = 100</p>
      <p>We just updated it. </p>
      <p>What is the value of the variable "age"?</p>
      <button type="button" id="optionA" >100</button>
      <button type="button" id="optionB" ><span id ="ageValueQuiz"> </span></button>
        <div id="feedback2"> 
    </div>
        <button id="FinishButton" class="button-semantic button-primary button-continue" style = "display:none;">
      <span class="button-text">Continue</span>
      <svg class="button-icon" width="16" height="20"  fill="none">
        </svg>
    </button>
        </div>
    </section>

    <section id="Finish" style="display: none;">
      <div class="text">
        <h2>Great Job!</h2>
        <p>You learned how to create and update variables!</p>
      </div>
    </section>
  </div>
  <script type="module">
    import { WidgetPage } from "../js/WidgetPage.js";
  document.addEventListener("DOMContentLoaded", () => {
      const widgetPage = new WidgetPage("widget-page-template", document.body);
    
      const introduction = document.getElementById('introduction');
      const ageInput = document.getElementById('ageInput');
      const submitButton = document.getElementById('submit');
      const inputSection = document.getElementById('inputSection');
      const result = document.getElementById('result');
      const ageDisplay = document.getElementById('ageDisplay');
      const quiz = document.getElementById('quiz');
      const updateVariable = document.getElementById('updateVariable');
      const finish = document.getElementById('Finish');

      // Introduction continue button
      document.getElementById('introContinue').addEventListener('click', function() {
        introduction.style.display = 'none';
        inputSection.style.display = 'block';
      });

      // Submit age button
      submitButton.addEventListener('click', function() {
        const age = ageInput.value;
        inputSection.style.display = 'none';
        result.style.display = 'block';
        ageDisplay.textContent = age;

        const ageNumberQuiz = document.getElementById('ageNumberQuiz');
        ageNumberQuiz.textContent = age;        

        const ageValueQuiz = document.getElementById('ageValueQuiz');
        ageValueQuiz.textContent = age;         
      });

      // Result continue button
      document.getElementById('resultContinue').addEventListener('click', function() {
        result.style.display = 'none';
        quiz.style.display = 'block';
      });

      // Quiz option buttons
      const option1 = document.getElementById('option1');
      const option2 = document.getElementById('option2');
      const feedback = document.getElementById('feedback');
    
      option1.addEventListener('click', function() {
        feedback.textContent = 'Correct! "age" is the variable name!';
        feedback.style.color = 'green';
        document.getElementById('quizContinue').style.display = 'block';
      });  

      option2.addEventListener('click', function() {
        feedback.textContent = 'Incorrect, That is the value, not the variable';
        feedback.style.color = 'red';
        document.getElementById('quizContinue').style.display = 'block';
      }); 

      // Quiz continue button
      document.getElementById('quizContinue').addEventListener('click', function() {
        quiz.style.display = 'none';
        updateVariable.style.display = 'block';
      });

      // Update variable quiz buttons
      const optionA = document.getElementById('optionA');
      const optionB = document.getElementById('optionB');
      const feedback2 = document.getElementById('feedback2');
      
      optionA.addEventListener('click', function() {
        feedback2.textContent = 'Correct! After updating it, age = 100!';
        feedback2.style.color = 'green';
        document.getElementById('FinishButton').style.display = 'block';
      });  
      
      optionB.addEventListener('click', function() {
        feedback2.textContent = 'Incorrect, That was the old value. We changed it to 100.';
        feedback2.style.color = 'red';
        document.getElementById('FinishButton').style.display = 'block';
      }); 

      // Finish button
      document.getElementById('FinishButton').addEventListener('click', function() {
        updateVariable.style.display = 'none';
        finish.style.display = 'block';
      });
    
  });
  </script>
</body>
</html>
